- updates components to use new context API